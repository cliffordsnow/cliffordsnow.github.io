<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>JOSM Background Layer &#8211; OSM Seattle</title>
<meta name="description" content="Easy way to server tiles locally">
<meta name="keywords" content="QGIS;github;drone">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:4000/images/texture-feature-04.jpg">

<meta name="twitter:title" content="JOSM Background Layer">
<meta name="twitter:description" content="Easy way to server tiles locally">
<meta name="twitter:creator" content="@osm_seattle">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="JOSM Background Layer">
<meta property="og:description" content="Easy way to server tiles locally">
<meta property="og:url" content="http://localhost:4000/articles/TileStream/">
<meta property="og:site_name" content="OSM Seattle">





<link rel="canonical" href="http://localhost:4000/articles/TileStream/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="OSM Seattle Feed">
<link rel="author" href="https://plus.google.com/101103612980566933205?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://localhost:4000/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000">OSM Seattle</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation">
		    <ul>
		        
				<li><a href="http://localhost:4000/about/" >About</a></li>
		        
				<li><a href="http://localhost:4000/posts/" >Posts</a></li>
		        
				<li><a href="http://localhost:4000/projects/" >Projects</a></li>
		        
				<li><a href="http://openstreetmap.org" target="_blank">OpenStreetMap</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="http://localhost:4000/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

<div class="image-wrap">
  <img src="http://localhost:4000/images/texture-feature-04.jpg" alt="JOSM Background Layer feature image">
  
</div><!-- /.image-wrap -->

<div id="main" role="main">
  <div class="article-author-side">
    <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="Clifford Snow bio photo"></a>
<h3>Clifford Snow</h3>
<p>Clifford is described as an Addicted Mapper for the past three years since he started contributing to OSM. He is a member of OSM's Future Work Group, hosts OpenStreetMap-Seattle Meetup Group and helped with the importing of Seattle building outlines and addresses into OSM. His prior endeavors include glassblowing, managing an art center facility and telecom management.</p>
<a href="http://twitter.com/osm_seattle" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/cliffordsnow" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>
<a href="https://plus.google.com/101103612980566933205" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>


<a href="http://github.com/cliffordsnow" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


  </div>
  <article>
    <div class="headline-wrap">
      <h1>JOSM Background Layer</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Now that we can find missing roads with the plan developed in <a href="/articles/Finding-Errors">Finding Errors</a> it is time to move on to aligning the roads.</p>

<p>Up until now, the easiest way was to convert the roads shapefile into an .osm layer for JOSM. As the image below shows, aligning roads using Bing Imagery and the .osm layer works just fine. Until you want to check road name. The .osm layer doesn&#8217;t display the name or any other attribute for that matter.</p>

<p><img src="/assets/josm_osm_background.png" alt="JOSM with OSM Background" /></p>

<p>Using a tile background solves that problem. Looking at the image below, the road name is displayed along side for easy comparison to OSM data.</p>

<p><img src="/assets/josm_tilestream_background.png" alt="JOSM using Tiles in the Background" /></p>

<p>Here is what is needed to create your own backgrounds for JOSM.</p>

<ul>
  <li><a href="https://www.mapbox.com/tilemill/">TileMill</a> for creating tiles</li>
  <li><a href="https://github.com/mapbox/tilestream">TileStream </a>for serving up the tiles</li>
  <li>POSTGIS connection to road data</li>
</ul>

<p>Check out TileMill <a href="https://www.mapbox.com/tilemill/docs/manual/">documentation</a> for help installing and creating tiles. </p>

<!-- language: lang-js -->
<pre><code>#skagitroads {
  		line-width:5;
  		line-color:#00ff00;
  		line-cap: round;
 	*/
</code></pre>

 	::labels[zoom &gt; 13]{
  		text-name: [fullname];
  		text-face-name: &#8216;Helvetica Bold&#8217;;
  		text-fill: #fff;
  		text-placement: line;
  		text-dy: 12;
   		text-size:14;
<pre><code>	}
  	}
</code></pre>

<p>Tilestream was easy to install. My only hangup was to update Homebrew before starting. </p>

<p>TileMill&#8217;s default is to save the tiles in my ~/Documents/MapBox/export folder. Move the tiles.mbtiles file to ~/Documents/MapBox/tiles. You could create a symbolic link but I just moved the files.</p>

<p>Start Tilestream
	./index.js</p>

<p>Open localhost:8888 in your browser to verify that everything is working. Select your new tiles. Once open, click on Info to get the tile URL to paste into JOSM.</p>

<p><img src="/assets/tilestream_url.png" alt="Tilestream URL" /></p>

<p>In this case the url is 
	http://localhost:8888/v2/SkagitCountyRoads/{z}/{x}/{y}.png</p>

<p>Finally, enter the tile url into JOSM. Select the <img src="/assets/josm_tms.png" alt="TMS" /> icon to add your new tiles to JOSM.</p>

<p><img src="/assets/josm_add_tms.png" alt="JOSM add TMS" /></p>


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="Clifford Snow bio photo"></a>
<h3>Clifford Snow</h3>
<p>Clifford is described as an Addicted Mapper for the past three years since he started contributing to OSM. He is a member of OSM's Future Work Group, hosts OpenStreetMap-Seattle Meetup Group and helped with the importing of Seattle building outlines and addresses into OSM. His prior endeavors include glassblowing, managing an art center facility and telecom management.</p>
<a href="http://twitter.com/osm_seattle" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/cliffordsnow" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>
<a href="https://plus.google.com/101103612980566933205" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>


<a href="http://github.com/cliffordsnow" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


        </div>
        <p class="byline"><strong>JOSM Background Layer</strong> was published on <time datetime="2014-05-25T00:00:00-07:00">May 25, 2014</time> by <a href="http://localhost:4000/about" title="About Clifford Snow">Clifford Snow</a>.</p>
      </footer>
    </div><!-- /.article-wrap -->

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'wwwsnowandsnowus'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </article>
</div><!-- /#main -->
<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      
      
        
          
        
      
      
      <li><a href="http://localhost:4000/articles/Too-Many-Airports/" title="Too Many Airports">Too Many Airports</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://localhost:4000/articles/Finding-Errors/" title="Finding Differences in Roads">Finding Differences in Roads</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://localhost:4000/articles/JOSM-HTTPS-Feature/" title="JSOM Allows HTTPS">JSOM Allows HTTPS</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2014 Clifford Snow. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
	        

</body>
</html>
